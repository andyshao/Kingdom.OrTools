<Project>

  <PropertyGroup>
    <Authors>Michael W. Powell</Authors>
    <Company>Kingdom Software</Company>
    <Product>Kingdom.OrTools</Product>
    <Copyright>Copyright (c) 2015-2019</Copyright>
    <LangVersion>7.3</LangVersion>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Platform)'=='AnyCPU'">
    <WarningLevel>2</WarningLevel>
  </PropertyGroup>

  <PropertyGroup>
    <PackageProjectUrl>http://github.com/mwpowellhtx/Kingdom.OrTools</PackageProjectUrl>
    <PackageLicenseUrl>https://github.com/mwpowellhtx/Kingdom.OrTools/blob/master/LICENSE</PackageLicenseUrl>
  </PropertyGroup>

  <PropertyGroup>
    <RootNamespace>Kingdom.OrTools</RootNamespace>
    <!-- We can probably most likely track the Google version numbers according to their
     Major.Minor only and not worry about the Build or Patch numbers themselves. Additionally,
     except in places where we must adopt the Protobuf dependency directly, we could otherwise
     leave that out as well, as this depedency tracks seamlessly with the OrTools, or its runtime
     surrogate, dependencies. -->
    <GoogleProtobufVersion>3.8</GoogleProtobufVersion>
    <!-- Well, I thought we could get away with the Major.Minor here, but we kind of do need to
    know the full version in order to know the precise path of the Protocol Buffer specification
    files in which to embed. The danger here is that this is a Greater Than Or Equal To (>=),
    right? So we may need to be more precise in our dependencies, but we will start here, and
    cross future bridges should they arise when they arise. -->
    <GoogleOrToolsVersion>7.1.6720</GoogleOrToolsVersion>
    <CodeGenerationRoslynVersion>[1.0.1,2)</CodeGenerationRoslynVersion>
    <CodeGenerationRoslynAttributesVersion>[1.0.1,2)</CodeGenerationRoslynAttributesVersion>
    <MicrosoftCodeAnalysisCSharp>[2.10.0,3)</MicrosoftCodeAnalysisCSharp>
    <KingdomProtobufAntlrVersion>1.0.12</KingdomProtobufAntlrVersion>
    <ValidationVersion>[2.4.22,3)</ValidationVersion>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="BumpAssemblyVersions" Version="1.2.0">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers</IncludeAssets>
    </PackageReference>
  </ItemGroup>

  <ItemGroup Condition="Exists('..\packages\BumpAssemblyVersions\1.2.0\build\BumpAssemblyVersions.targets')">
    <BumpVersionSpec Include="Version" PatchProviderTemplate="Increment" BuildProviderTemplate="SecondsSinceMidnight" Condition="'$(Configuration)' == 'Release'" />
    <BumpVersionSpec Include="AssemblyVersion" PatchProviderTemplate="Increment" BuildProviderTemplate="SecondsSinceMidnight" Condition="'$(Configuration)' == 'Release'" />
    <BumpVersionSpec Include="FileVersion" PatchProviderTemplate="Increment" BuildProviderTemplate="SecondsSinceMidnight" Condition="'$(Configuration)' == 'Release'" />
    <BumpVersionSpec Include="PackageVersion" PatchProviderTemplate="Increment" BuildProviderTemplate="SecondsSinceMidnight" Condition="'$(Configuration)' == 'Release'" />

    <BumpVersionSpec Include="Version" BuildProviderTemplate="Increment" Condition="'$(Configuration)' == 'Debug'" />
    <BumpVersionSpec Include="AssemblyVersion" BuildProviderTemplate="Increment" Condition="'$(Configuration)' == 'Debug'" />
    <BumpVersionSpec Include="FileVersion" BuildProviderTemplate="Increment" Condition="'$(Configuration)' == 'Debug'" />
    <BumpVersionSpec Include="PackageVersion" BuildProviderTemplate="Increment" Condition="'$(Configuration)' == 'Debug'" />
  </ItemGroup>

  <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
    <Exec Command="if exist &quot;$(ProjectDir)bin\$(Configuration)\*.nupkg&quot; del /f &quot;$(ProjectDir)bin\$(Configuration)\*.nupkg&quot;" />
  </Target>

</Project>
